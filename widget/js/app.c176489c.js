(function(e){function t(t){for(var o,i,l=t[0],c=t[1],u=t[2],d=0,p=[];d<l.length;d++)i=l[d],r[i]&&p.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);s&&s(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("04f5"),r=n.n(o);r.a},"04f5":function(e,t,n){},"48cd":function(e,t,n){},"4fdf":function(e,t,n){"use strict";var o=n("dcc8"),r=n.n(o);r.a},5063:function(e,t,n){"use strict";var o=n("5e57"),r=n.n(o);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("MapBoxMap")],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._m(0),n("h3",[e._v("Installed CLI Plugins")]),e._m(1),n("h3",[e._v("Essential Links")]),e._m(2),n("h3",[e._v("Ecosystem")]),e._m(3)])},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n    For guide and recipes on how to configure / customize this project,"),n("br"),e._v("\n    check out the\n    "),n("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank"}},[e._v("vue-cli documentation")]),e._v(".\n  ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank"}},[e._v("babel")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("Core Docs")])]),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("Forum")])]),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("Community Chat")])]),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("Twitter")])]),n("li",[n("a",{attrs:{href:"https://news.vuejs.org",target:"_blank"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://router.vuejs.org",target:"_blank"}},[e._v("vue-router")])]),n("li",[n("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank"}},[e._v("vuex")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank"}},[e._v("vue-devtools")])]),n("li",[n("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank"}},[e._v("vue-loader")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[e._v("awesome-vue")])])])}],c={name:"HelloWorld",props:{msg:String}},u=c,s=(n("95f9"),n("2877")),d=Object(s["a"])(u,i,l,!1,null,"0b4e7338",null);d.options.__file="HelloWorld.vue";var p=d.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-container",attrs:{id:"mapBoxMap"}})},m=[],h=(n("28a5"),n("7f7f"),n("e192")),g=n.n(h),v="http://localhost:8080",y="http://localhost:5757",_="weapp",b=y+"/"+_,k={localhost:v,service:{server:y,serviceUrl:b},minedata:{serviceUrl:"http://139.199.20.29/data",accessToken:"67f6bfed606941f9a63d26d0ad61de2f",solution:4784}},x=k,j=function(e){return"".concat(x.minedata.serviceUrl).concat(e,"/{z}/{x}/{y}?token=").concat(x.minedata.accessToken,"&solu=").concat(x.minedata.solution)},w=(j("/Landuse"),j("/Ptline"),j("/Buildingmore"),j("/Railway"),j("/Waterface"),j("/Villtown"),j("/Road"),j("/Worldannotation"),j("/Poi"),j("/Greenface"),j("/Subwaypolygon"),j("/Annotation"),j("/Adminbound"),j("/Waterline"),j("/Worldcountries"),j("/Ptexit"),j("/ResidentialPolygon"),j("/Worldwaterface"),j("/Ptstop"),j("/Adminflag"),j("/Zlevel"),"".concat(x.localhost,"/res/mapbox/sprite/sprite"),"".concat(x.localhost,"/res/mapbox/glyphs/{fontstack}/{range}"),{version:8,sprite:"".concat(x.localhost,"/res/mapbox/sprite/sprite"),glyphs:"".concat(x.localhost,"/res/mapbox/glyphs/{fontstack}/{range}.pbf"),sources:{"raster-tiles":{type:"raster",tiles:["http://rt0.map.gtimg.com/realtimerender?z={z}&x={x}&y={y}&type=vector&style=0","http://rt1.map.gtimg.com/realtimerender?z={z}&x={x}&y={y}&type=vector&style=0","http://rt2.map.gtimg.com/realtimerender?z={z}&x={x}&y={y}&type=vector&style=0","http://rt3.map.gtimg.com/realtimerender?z={z}&x={x}&y={y}&type=vector&style=0"],scheme:"tms",tileSize:256,minZoom:5,maxZoom:18}},layers:[{id:"simple-tiles",type:"raster",source:"raster-tiles"}]}),M=w,T=n("bc3a"),O=n.n(T),S=O.a.create({baseURL:"/api"}),F=function(e){return S.get(e).then(function(e){return e.data})},P=function(e,t){return S.post(e,t).then(function(e){return e.data})},z={get:F,post:P},L=n("324a"),C=n.n(L),I=function(e){return C.a.parse(e)},Z=function(e){return C.a.stringify(e)},E={wktToGeojson:I,geoJsonToWkt:Z};g.a.accessToken="pk.eyJ1IjoibWFkc2hhd24iLCJhIjoiY2lqY2ZwcW4zMDAwMXc2a3VybmsxdzU1OSJ9.UTV2YhX9rABrPQIEI2QKwg";var B={name:"MainMap",props:{},mounted:function(){this.createMap()},methods:{createMap:function(){var e=this,t=new g.a.Map({container:"mapBoxMap",style:M,minZoon:3,maxZoom:24,zoom:17,center:[108.94400235446722,34.300590391379714]});t.on("load",function(){t.addSource("building",{type:"geojson",data:null}),t.addSource("poi-face",{type:"geojson",data:null}),t.addSource("link",{type:"geojson",data:null}),t.addSource("poi",{type:"geojson",data:null}),t.addLayer({id:"building-layer",type:"fill",source:"building",layout:{},paint:{"fill-color":"#666","fill-opacity":.2}}),t.addLayer({id:"poi-face-layer",type:"fill",source:"poi-face",layout:{},paint:{"fill-outline-color":"#999","fill-color":"#999","fill-opacity":.2}}),t.addLayer({id:"link-layer",type:"line",source:"link",layout:{},paint:{"line-opacity":.8,"line-color":"#aaa","line-width":2}}),t.addLayer({id:"poi-layer",type:"circle",source:"poi",layout:{},paint:{"circle-radius":2,"circle-color":"#000"}}),t.addLayer({id:"poi-symbol-layer",type:"symbol",source:"poi",layout:{"text-field":"{name}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12,"text-offset":[0,0],"text-anchor":"top"},paint:{}}),e.loadBuilding(6101000094).then(function(e){e&&(t.getSource("building").setData(e),t.flyTo({center:e.properties.center}))}),e.loadPoiFace(61010000941001).then(function(e){e&&t.getSource("poi-face").setData({type:"FeatureCollection",features:e})}),e.loadLink(61010000941001).then(function(e){e&&t.getSource("link").setData({type:"FeatureCollection",features:e})}),e.loadPoi(61010000941001).then(function(e){e&&t.getSource("poi").setData({type:"FeatureCollection",features:e})})}),t.on("zoomend",function(e){console.log(t.getZoom())})},loadBuilding:function(e){return z.get("/indoor/building/".concat(e)).then(function(e){if(e&&e.data&&e.data.length>0){var t=e.data[0];return{type:"Feature",properties:{id:t.id,kind:t.kind,name:t.name,center:t.center_coordinate.split(",").map(function(e){return parseFloat(e)})},geometry:E.wktToGeojson(t.geometry)}}return null}).catch(function(e){return console.error(e),null})},loadPoiFace:function(e){return z.get("/indoor/building/floor/poiFace/".concat(e)).then(function(e){return e&&e.data&&e.data.length>0?e.data.map(function(e){return{type:"Feature",properties:{id:e.face_id,kind:e.kind},geometry:E.wktToGeojson(e.geometry)}}):null}).catch(function(e){return console.error(e),null})},loadLink:function(e){return z.get("/indoor/building/floor/link/".concat(e)).then(function(e){return e&&e.data&&e.data.length>0?e.data.map(function(e){return{type:"Feature",properties:{id:e.link_id,kind:e.kind,type:e.type,snodeId:e.snode_id,enodeId:e.enode_id},geometry:E.wktToGeojson(e.geometry)}}):null}).catch(function(e){return console.error(e),null})},loadPoi:function(e){return z.get("/indoor/building/floor/poi/".concat(e)).then(function(e){return e&&e.data&&e.data.length>0?e.data.map(function(e){var t=E.wktToGeojson(e.geometry);return{type:"Feature",properties:{id:e.id,kind:e.kind,name:e.name,faceId:e.face_id},geometry:t}}):null}).catch(function(e){return console.error(e),null})}}},W=B,G=(n("4fdf"),Object(s["a"])(W,f,m,!1,null,"356b559c",null));G.options.__file="MapBoxMap.vue";var J=G.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-container",attrs:{id:"leafletMap"}})},$=[],A=n("e11e"),D=n.n(A),N=(n("6cc5"),{name:"LeafletMap",props:{},mounted:function(){this.createMap()},methods:{createMap:function(){var e=D.a.map("leafletMap",{minZoom:5,maxZoom:24}).setView([34.300590391379714,108.94400235446722],15);D.a.tileLayer("http://{s}.map.gtimg.com/realtimerender?z={z}&x={x}&y={y}&type=vector&style=0",{attribution:"test",minZoom:5,maxZoom:18,id:"mapbox.streets",subdomains:["rt0","rt1","rt2","rt3"],tms:!0}).addTo(e),this.loadBuilding(6101000094).then(function(t){t&&(D.a.geoJSON(t,{style:{color:"#999",fill:!0,fillColor:"#666",fillOpacity:.2}}).addTo(e),e.setView(t.properties.center,18))}),this.loadPoiFace(61010000941001).then(function(t){t&&D.a.geoJSON(t,{style:{color:"#999",fill:!0,fillColor:"#999",fillOpacity:.2}}).addTo(e)}),this.loadLink(61010000941001).then(function(t){t&&D.a.geoJSON(t,{style:{color:"#ddd"}}).addTo(e)}),this.loadPoi(61010000941001).then(function(t){t&&D.a.geoJSON(t,{style:{radius:2,color:"#999",fill:!0,fillColor:"#999",fillOpacity:.2},pointToLayer:function(e,t){var n=D.a.divIcon({html:e.properties.name,className:"div-icon"});return D.a.marker(t,{icon:n})}}).addTo(e)})},loadBuilding:function(e){return z.get("/indoor/building/".concat(e)).then(function(e){if(e&&e.data&&e.data.length>0){var t=e.data[0];return{type:"Feature",properties:{id:t.id,kind:t.kind,name:t.name,center:t.center_coordinate.split(",").map(function(e){return parseFloat(e)}).reverse()},geometry:E.wktToGeojson(t.geometry)}}return null}).catch(function(e){return console.error(e),null})},loadPoiFace:function(e){return z.get("/indoor/building/floor/poiFace/".concat(e)).then(function(e){return e&&e.data&&e.data.length>0?e.data.map(function(e){return{type:"Feature",properties:{id:e.face_id,kind:e.kind},geometry:E.wktToGeojson(e.geometry)}}):null}).catch(function(e){return console.error(e),null})},loadLink:function(e){return z.get("/indoor/building/floor/link/".concat(e)).then(function(e){return e&&e.data&&e.data.length>0?e.data.map(function(e){return{type:"Feature",properties:{id:e.link_id,kind:e.kind,type:e.type,snodeId:e.snode_id,enodeId:e.enode_id},geometry:E.wktToGeojson(e.geometry)}}):null}).catch(function(e){return console.error(e),null})},loadPoi:function(e){return z.get("/indoor/building/floor/poi/".concat(e)).then(function(e){return e&&e.data&&e.data.length>0?e.data.map(function(e){var t=E.wktToGeojson(e.geometry);return{type:"Feature",properties:{id:e.id,kind:e.kind,name:e.name,faceId:e.face_id},geometry:t}}):null}).catch(function(e){return console.error(e),null})}}}),R=N,V=(n("5063"),Object(s["a"])(R,U,$,!1,null,"eb23c0e6",null));V.options.__file="LeafletMap.vue";var H=V.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map-container",attrs:{id:"mineMap"}})},Q=[];minemap.domainUrl="http://139.199.20.29",minemap.serviceUrl="http://139.199.20.29/service",minemap.spriteUrl="http://139.199.20.29/app/images/map/sprite",minemap.accessToken="6cbcf83014ca4d2abbe758e02c9e3dbe";var X={name:"MineMap",props:{},mounted:function(){this.createMap()},methods:{createMap:function(){minemap.solution=4791;new minemap.Map({container:"mineMap",style:"http://139.199.20.29/service/solu/style/id/4791",minZoon:3,maxZoom:24,zoom:16,center:[108.94400235446722,34.300590391379714]})}}},q=X,K=(n("ad63"),Object(s["a"])(q,Y,Q,!1,null,"1482816d",null));K.options.__file="MineMap.vue";var ee=K.exports,te={name:"app",components:{HelloWorld:p,MapBoxMap:J,LeafletMap:H,MineMap:ee}},ne=te,oe=(n("034f"),Object(s["a"])(ne,r,a,!1,null,null,null));oe.options.__file="App.vue";var re=oe.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(re)}}).$mount("#app")},"5e57":function(e,t,n){},"95f9":function(e,t,n){"use strict";var o=n("a25f"),r=n.n(o);r.a},a25f:function(e,t,n){},ad63:function(e,t,n){"use strict";var o=n("48cd"),r=n.n(o);r.a},dcc8:function(e,t,n){}});
//# sourceMappingURL=app.c176489c.js.map